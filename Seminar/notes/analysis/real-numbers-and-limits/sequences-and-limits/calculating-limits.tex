\section{Metody výpočtů limit}
\label{sec:metody-vypoctu-limit}

Tato sekce je veskrze výpočetní, věnována způsobům určování limit rozličných
posloupností -- primárně těch zadaných vzorcem pro $n$-tý člen. Obecně
neexistuje algoritmus pro výpočet limity posloupnosti a například limity
posloupností zadaných rekurentně (další člen je vypočten jako kombinace
předchozích) je často obtížné určit. K jejich výpočtu bývá užito metod z
lineární algebry a obecně metod teorie diskrétních systémů zcela mimo rozsah
tohoto textu.

Přinejmenším v případě limit zadaných \uv{hezkými} vzorci čítajícími podíly
mnohočlenů a odmocnin je možné obyčejně algebraickými úpravami dojít k výsledku.
Uvedeme si pár stěžejních tvrzení sloužících tomuto účelu.

K důkazu prvního bude užitečná následující nerovnost, kterou přenecháváme
čtenáři jako (snadné) cvičení.

\begin{exercise}{}{random-abs-nerovnost}
 Dokažte, že pro čísla $x,y \in \R$ platí
 \[
  | |x| - |y| | \leq |x - y|.
 \]
\end{exercise}

\begin{theorem}{Aritmetika limit}{aritmetika-limit}
 Ať $a,b:\N \to \R$ jsou reálné posloupnosti mající limitu (ale klidně i
 nekonečnou). Pak
 \begin{enumerate}[label=(\alph*)]
  \item $\lim (a + b) = \lim a + \lim b$, je-li pravá strana definována;
  \item $\lim (a \cdot b) = \lim a \cdot \lim b$, je-li pravá strana definována;
  \item $\lim (a / b) = \lim a / \lim b$, platí-li $b \not\simeq 0$ a pravá
   strana je definována.
 \end{enumerate}
\end{theorem}
\begin{thmproof}
 Důkaz této věty je ryze výpočetního charakteru a využívá vhodně zvolených
 odhadů. Vzhledem k tomu, že povolujeme i nekonečné limity, je třeba důkaz
 každého bodu rozložit na případy. Položme $A \coloneqq \lim a, B \coloneqq \lim
 b$.

 \textbf{\emph{Případ $A,B \in \R$}.}\\
 Nejprve budeme předpokládat, že $A,B \in \R$. Pro dané $\varepsilon>0$ existují
 $n_a,n_b \in \N$ taková, že pro každé $n \geq n_a$ platí $|a_n-A|<\varepsilon$
 a pro každé $n \geq n_b$ zas $|b_n-B|<\varepsilon$. Zvolíme-li $n_0 \coloneqq
 \max(n_a,n_b)$, pak pro $n \geq n_0$ platí oba odhady zároveň. Potom ale,
 použitím \hyperref[lem:trojuhelnikova-nerovnost]{trojúhelníkové nerovnosti},
 dostaneme
 \[
  |(a_n+b_n)-(A+B)| = |(a_n-A)+(b_n-B)| \leq |a_n-A| + |b_n-B| <
  \varepsilon+\varepsilon = 2\varepsilon,
 \]
 čili $\lim (a+b) = A+B$. Pro důkaz vzorce pro součin a podíl, musíme navíc
 využít \myref{lemmatu}{lem:konvergentni-omezena}, tedy faktu, že konvergentní
 posloupnosti jsou omezené. Umíme tudíž najít $C_b \in \R$ takové, že od
 určitého indexu $n_1 \in \N$ dále platí $|b_n| \leq C_b$. Volme tedy nově $n_0
 \coloneqq \max(n_a,n_b,n_1)$ a pro $n \geq n_0$ počítejme
 \begin{align*}
  |a_n \cdot b_n - A \cdot B| &= |a_n \cdot b_n - b_n \cdot A + b_n \cdot A -
  A \cdot B| = |b_n(a_n - A) + A(b_n - B)|\\
                              & \leq |b_n(a_n - A)| + |A(b_n-B)| = |b_n| \cdot
                              |a_n-A| + |A| \cdot |b_n-B| \\
                              &< |C_b| \cdot \varepsilon + |A| \cdot
                              \varepsilon.
 \end{align*}
 Protože $|C_b|$ i $|A|$ jsou konstanty nezávislé na $\varepsilon$, znamená
 toto, že $\lim (a \cdot b) = A \cdot B$. Konečně, v případě podílu volme
 $\varepsilon_b = |B| / 2$. K tomuto $\varepsilon_b$ nalezněme $n'_b \in \N$
 takové, že pro $n \geq n'_b$ platí $|b_n - B| < \varepsilon_b$. Poslední
 nerovnost spolu s \myref{cvičením}{exer:random-abs-nerovnost} znamená, že $|
 |b_n| - |B| | < \varepsilon$. Tento vztah si rozepíšeme na
 \[
  |B| - \varepsilon_b < |b_n| < |B| + \varepsilon_b.
 \]
 Levá z těchto nerovností je pak ekvivalentní $|b_n| > |B| / 2$ neboli $1 /
 |b_n| < 2 / |B|$. Položme $n_0 \coloneqq \max(n_a,n_b,n'_b)$. Potom pro $n \geq
 n_0$ máme
 \begin{align*}
  \left| \frac{a_n}{b_n} - \frac{A}{B} \right| &= \left| \frac{a_nB -
  b_nA}{b_nB} \right| = \left| \frac{a_nB - AB + AB - b_nA}{b_nB} \right| \leq
  \left| \frac{B(a_n-A)}{b_nB} \right| + \left| \frac{A(B - b_n)}{b_nB} \right|
  \\
                                               &= \frac{1}{|b_n|}\left(|a_n-A| +
                                               \frac{|A|}{|B|}|B-b_n| \right) <
                                               \frac{2\varepsilon}{|B|}\left(1 +
                                               \frac{|A|}{|B|}\right).
 \end{align*}
 Protože $|A|$ i $|B|$ jsou konstanty nezávislé na $\varepsilon$, toto znamená,
 že $\lim (a / b) = A / B$.

 \textbf{\emph{Případ $A = \pm \infty, B \in \R \setminus \{0\}$.}}\\
 Předpokládejme, že $\lim a = \infty$; případ $\lim a = -\infty$ se dokáže v
 zásadě identicky. Pak pro dané $\varepsilon_a$ existuje $n_a \in \N$ takové, že
 pro $n \geq n_a$ platí $a_n > \varepsilon_a$. Podle
 \myref{lemmatu}{lem:konvergentni-omezena} je posloupnost $b$ omezená, čili
 existuje $C_b > 0$ takové, že $|b_n| \leq C_b$ pro všechna $n \in \N$. Potom
 pro $n \geq n_a$ máme
 \[
  a_n + b_n \geq a_n - C_b > \varepsilon_a - C_b.
 \]
 Pro důkaz součinu nejprve ať $B > 0$. Pak existuje konstanta $K_b > 0$ a $n_b
 \in \N$ takové, že pro $n \geq n_b$ je $b_n \geq K_b$. Pročež, pro libovolné
 $C_a > 0$ a $n \geq \max(n_a,n_b)$ dostaneme
 \[
  a_n \cdot b_n \geq \varepsilon_a \cdot K_b
 \]
 a rovněž
 \[
  \frac{a_n}{b_n} \geq \frac{\varepsilon_a}{K_b},
 \]
 čili $\lim (a \cdot b) = \infty$ a $\lim (a / b) = \infty$. Velmi podobně se
 řeší případ $B < 0$.

 Zdlouhavý důkaz zakončíme komentářem, že případ $A \in \R \setminus \{0\}, B =
 \pm \infty$ je symetrický předchozímu a případy $A = 0, B = \pm \infty$, též $A
 = \pm \infty, B = 0$ a konečně $A = \pm \infty, B = \pm \infty$ jsou triviální.
\end{thmproof}

\hyperref[thm:aritmetika-limit]{Věta o aritmetice limit} je zcela nejužitečnější
tvrzení k jejich výpočtu, neboť umožňuje limitu výrazu rozdělit na mnoho menších
podlimit, které jsou často známy. Další dvě lemmata jsou často též k užitku.

\begin{lemma}{Limita odmocniny}{limita-odmocniny}
 Ať $a:\N \to [0,\infty)$ je posloupnost \emph{nezáporných} čísel. Potom
 \[
  \lim_{n \to \infty} \sqrt[k]{a_n} = \sqrt[k]{\lim_{n \to \infty} a_n}
 \]
 pro každé $k \in \N$.
\end{lemma}
\begin{lemproof}
 Zdlouhavý a technický. Ambiciózní čtenáři jsou zváni, aby se o něj pokusili.
\end{lemproof}

\begin{lemma}{O dvou strážnících}{o-dvou-straznicich}
 Ať $a,b,c:\N \to \R$ jsou posloupnosti reálných čísel a $L \coloneqq \lim a =
 \lim c$. Pokud existuje $n_0 \in \N$ takové, že pro každé $n \geq n_0$ platí
 $a_n \leq b_n \leq c_n$, pak $\lim b = L$.
\end{lemma}
\begin{lemproof}
 Protože $\lim a = L$ a též $\lim c = L$, nalezneme pro dané $\varepsilon>0$
 index $n_1 \in \N$ takový, že pro $n \geq n_1$ platí dva odhady:
 \[
  |a_n - L| < \varepsilon \quad \text{a} \quad |c_n - L| < \varepsilon.
 \]
 Potom ovšem $a_n > L - \varepsilon$ a $c_n < L + \varepsilon$. Z předpokladu
 existuje $n_b \in \N$ takové, že $a_n \leq b_n \leq c_n$ pro $n \geq n_b$.
 Zvolíme-li tedy $n_0 \coloneqq \max(n_1,n_b)$, pak pro $n \geq n_0$ platí
 \[
  L - \varepsilon < a_n \leq b_n \leq c_n < L + \varepsilon.
 \]
 Sloučením obou nerovností dostaneme pro $n \geq n_0$ odhad $|b_n -
 L|<\varepsilon$, čili $\lim b = L$.
\end{lemproof}

