\subsubsection{Grafové homomorfismy}
\label{sssec:grafove-homomorfismy}

Trochu času věnujeme přemýšlení o tom, co může znamenat \emph{zobrazení} mezi
grafy. Tato podsekce má primárně býti jakýmsi úvodem do abstraktní algebry, kde
zaujímají zobrazení mezi strukturami snad největšího významu. O homomorfismech
grafů se dle názoru autora hovoří spíše okrajově a aplikací nejsou přehršle.

Ať tedy $G = (V_G,E_G)$ a $H = (V_H,E_H)$ jsou dva grafy. Zápis
$\varphi:G \to H$, tj. zobrazení z $G$ do $H$, sice smysl dává, neb $G$ a $H$
jsou (jako všechno v teorii množin) též množiny, ale není pro rozvoj teorie
nijak zajímavý. Takové zobrazení totiž může klidně posílat třeba hrany v $G$ na
vrcholy v $H$ a tvořit jiné podobné zrůdnosti.

V celé sekci se díváme na graf jako na množinu vrcholů se strukturou danou
hranami. Tenhle pohled zůstává užitečným i nyní. Totiž, \emph{homomorfismem} (z
řec. homós, \uv{stejný}, a morphé, \uv{tvar, forma}) mezi obecně množinami se
strukturou se myslí \textbf{zobrazení mezi těmito množinami, které zachovává
strukturu}.

V případě grafů toto znamená, že \emph{homomorfismus} $\varphi:G \to H$ je
zobrazení $\varphi_V:V_G \to V_H$ z vrcholů $G$ do vrcholů $H$, které
\uv{zachovává} hrany. To je lze vyložit zkrátka tak, že když mezi vrcholy v $G$
vede hrana, tak mezi jejich obrazy při zobrazení $\varphi_V$ vede též hrana.

\begin{definition}[Grafový homomorfismus]
 \label{def:grafovy-homomorfismus}
 Buďtež $G = (V_G,E_G)$ a $H = (V_H,E_H)$ dva grafy. \emph{Homomorfismem} z $G$
 do $H$, značeným běžně $\varphi:G \to H$, myslíme zobrazení
 \[
  \varphi_V:V_G \to V_H
 \]
 takové, že
 \[
  (u,v) \in E_G \Rightarrow (\varphi_V(u),\varphi_V(v)) \in E_H.
 \]
 Obvykle, bo jest tomu buřt, ztotožňujeme homomorfismus $\varphi:G \to H$ se
 zobrazením $\varphi_V:V_G \to V_H$ mezi bázovými množinami a oboje značíme
 zkrátka $\varphi$.
\end{definition}

S \hyperref[def:grafovy-homomorfismus]{touto definicí} je jistý problém. Uvažme
grafy $G$ a $H$ dané \myref{obrázkem}{fig:problem-s-definici-homomorfismu}.

\begin{figure}[h]
 \centering
 \begin{subfigure}{.47\textwidth}
  \centering
  \begin{tikzpicture}[scale=1.5]
   \node[vertex] (a) at (0,0) {};
   \node[vertex] (b) at (0,1) {};
   \node[vertex] (c) at (1,1) {};
   
   \draw[thick] (a) -- (b);
   \draw[thick] (b) -- (c);
   \draw[thick] (a) -- (c);
   
   \node[below left=-1mm and -1mm of a] {$a$};
   \node[above left=-1mm and -1mm of b] {$b$};
   \node[above right=-1mm and -1mm of c] {$c$};
  \end{tikzpicture}
  \caption{Graf $G$.}
  \label{subfig:graf-g}
 \end{subfigure}
 \begin{subfigure}{.47\textwidth}
  \centering
  \begin{tikzpicture}[scale=1.5]
   \node[vertex] (1) at (0,0) {};
   \node[vertex] (2) at (1,0) {};
   \node[vertex] (3) at (1,1) {};
   \node[vertex] (4) at (0,1) {};

   \draw[thick] (1) -- (2);
   \draw[thick] (2) -- (3);
   \draw[thick] (3) -- (4);
   \draw[thick] (4) -- (1);
   \draw[thick] (1) -- (3);
   
   \node[below left=-1mm and -1mm of 1] {$1$};
   \node[below right=-1mm and -1mm of 2] {$2$};
   \node[above right=-1mm and -1mm of 3] {$3$};
   \node[above left=-1mm and -1mm of 4] {$4$};
  \end{tikzpicture}
  \caption{Graf $H$.}
  \label{subfig:graf-h}
 \end{subfigure}
 \caption{Problém s definicí homomorfismu $G \to H$.}
 \label{fig:problem-s-definici-homomorfismu}
\end{figure}

Zde $V_G = \{a,b,c\}$ a $V_H = \{1,2,3,4\}$. Jeden možný homomorfismus $G \to H$
je třeba dán zobrazením $\varphi:V_G \to V_H$ takovým, že
\begin{equation*}
 \begin{split}
  \varphi(a) &= 1, \\
  \varphi(b) &= 4, \\
  \varphi(c) &= 3.
 \end{split}
\end{equation*}
Pak je opravdu splněna podmínka z \myref{definice}{def:grafovy-homomorfismus},
neboť mezi každýma dvěma vrcholoma z $a,b,c$ vede hrana a mezi každýma dvěma
vrcholoma z~$1,4,3$ rovněž vede hrana.

Uvažme však jen trochu jiný homomorfismus $\psi: G \to H$, který je dán
rovnostmi
\begin{equation*}
 \begin{split}
  \psi(a) &= 1, \\
  \psi(b) &= 3, \\
  \psi(c) &= 3; \\
 \end{split}
\end{equation*}
čili vlastně \uv{slepuje} vrcholy $b$ a $c$ do vrcholu $3$. Všimněte si, že
takovéto zobrazení není podle \myref{definice}{def:grafovy-homomorfismus}
homomorfismem. Hrany $(a,b)$ a $(a,c)$ jsou sice zachovány, ale podmínka z téže
definice pro hranu $(b,c)$ říká, že
\[
 (b,c) \in E_G \Rightarrow (\psi(b),\psi(c)) = (3,3) \in E_H,
\]
což zřejmě nelze, neboť podle naší \hyperref[def:graf-poprve]{první definice
grafu} je $E$ relace na $V$, která je symetrická a \textbf{antireflexivní}, což
znamená, že v grafu nepovolujeme smyčky, kterou by $(3,3)$ jistě byla.

Tato peripetie má několik možných katastrof. V zájmu rozvoje matematického
myšlení drahých čtenářů si některé rozebereme.

\begin{enumerate}
 \item Nic nedělat, držet se původní definice a nepovažovat $\psi$ za
  homomorfismus. To je jistě jedno možné řešení a vyniká množstvím potřebné
  práce k jeho dosažení. Lidsky řečeno vlastně znamená, že slepovat vrcholy mohu
  jedině tehdy, když mezi nimi nevede hrana. Toto řešení je zároveň nejvíce
  omezující.
 \item Modifikovat \hyperref[def:grafovy-homomorfismus]{definici homomorfismu}
  tak, aby ignorovala tyto případy. Tedy, upravit podmínku zachování hran
  následovně:
  \[
   ((u,v) \in E_G \wedge \psi(u) \neq \psi(v)) \Rightarrow (\psi(u),\psi(v)) \in
   E_H.
  \]
  Takové řešení je \emph{extrémně nepřirozené}. Totiž, když z grafu $H$ na
  \myref{obrázku}{subfig:graf-h} vynecháme hranu $(b,c)$ a homomorfismus $\psi$
  ponecháme beze změny, pak je v obou případech (tedy s hranou $(b,c)$ i bez ní)
  obrazem grafu $H$ v $G$ úsečka $13$. Byť obrazy dvou různých grafů stejným
  homomorfismem byly stejné, jesti algebraicky nepřijatelné.
 \item Zvolnit definici grafu tak, aby povolovala smyčky. To by znamenalo
  konkrétně odstranit z \hyperref[def:graf-poprve]{první definice grafu}
  podmínku antireflexivity relace $E$. Zůstala by tedy pouze symetrickou a
  dvojice $(v,v)$ pro $v \in V$ by byly smyčkami. Ovšem,
  \hyperref[def:graf-podruhe]{druhá definice grafů} by se stala nepoužitelnou,
  neboť dvouprvková podmnožina $V$ nemůže obsahovat dvakrát týž prvek. Z
  \hyperref[def:graf-potreti]{třetí definice grafu} by stačilo rovněž odstranit
  pouze podmínku (a) zakazující shodnost zdroje a cíle téže hrany.

  Při adopci tohoto řešení by graf $G$ musel obsahovat smyčku $(3,3)$, aby mohl
  předpis $\psi$ zůstat beze změny. V takovém případě by obrazem grafu $H$
  \textbf{bez} hrany $(b,c)$ byla opět úsečka $13$, ale obrazem grafu $H$
  \textbf{se} hranou $(b,c)$ by byla úsečka $13$ spolu se smyčkou na vrcholu
  $3$.
\end{enumerate}
Obě řešení (1) i (3) jsou rozumná a v různých situacích různě užitečná. Dle naší
zkušenosti je operace \uv{slepení} vrcholu příliš důležitá pro práci s~grafovou
strukturou a pročež je spíše dáváno přednosti řešení (3). Ovšem, jistě existují
aplikace, kdež mají homomorfismy své místo, ale přesto jsou smyčky nežádoucí.

Podsekci kvapně zakončíme zcela bezvýznamnou definicí. Účel jeho zařazení dlí,
podobně jako zbytku podsekce, v prezentaci a povrchovém prozkoumání pojmu
\emph{homomorfismu}.

Homomorfismy mimořádných vlastností (jako prostota, surjektivita) mají své
vlastní názvy, které zde pro pořádek uvedeme. Reálně nás v dalším textu bude
zajímat ovšem jedině pojem \emph{isomorfismu}, bijektivního homomorfismu.

\begin{definition}
 \label{def:morfismy}
 Ať $\varphi:G \to H$ je homomorfismus grafů. Je-li
 \begin{itemize}
  \item $\varphi$ prostý, pak sluje \emph{\textbf{mono}morfismus} (z řec. mono-,
   \uv{jeden, jediný});
  \item $\varphi$ na, pak sluje \emph{\textbf{epi}morfismus} (z řec. epi-, \uv{nad, přes,
   na});
  \item $\varphi$ bijekce, pak sluje \emph{\textbf{iso}morfismus} (z řec. iso-,
   \uv{roven});
  \item $H = G$, pak sluje \emph{\textbf{endo}morfismus} (z řec. éndon,
   \uv{vnitřek, vnitř\-ní});
  \item $\varphi$ endomorfismus a isomorfismus, pak sluje
   \emph{\textbf{auto}morfismus} (z~řec. auto-, \uv{sebe-}).
 \end{itemize}
\end{definition}

\begin{remark}
 Je-li $\varphi:G \to H$ isomorfismus, pak je to speciálně bijekce $V_G \to
 V_H$, tedy $\# V_G = \# V_H$ a graf $H$ je vlastně graf $G$ s přejmenovanými
 vrcholy.

 Je-li $\varphi:G \to G$ automorfismus, pak je to speciálně permutace na $V_G$,
 čili vlastně jen proházení vrcholů $G$.
\end{remark}

