\subsection{Zobrazení a podmnožiny}
\label{ssec:zobrazeni-a-podmnoziny}

Chvíli se budeme bavit počítáním zobrazení a podmnožin obvykle určených nějakou
hezkou podmínkou. Začít právě tady je vhodné z páru důvodů. Zaprvé, není potřeba
vymýšlet žádnou novou teorii a zadruhé -- snad trochu překvapivě -- umět počítat
zobrazení a podmnožiny se hodí do spousty dalších matematických disciplín.
Zmiňme Čínskou větu o zbytcích, v podstatě jeden ze základních stavebních kamenů
teorie čísel, jejíž důkaz je založen právě na tom, že umíme počítat zobrazení
mezi množinami. Dále je tu třeba Burnsideova věta z abstraktní algebry, na jejíž
pravdivost spoléhá třeba otáčení obsahu obrazovky na mobilech a jejíž důkaz
vyžaduje porovnávání velikostí systémů podmnožin. Konečně, patří sem i latinské
čtverce -- struktury, jejichž princip stojí za vznikem Sudoku.

Pojďme začít tím nejjednodušším možným tvrzením, tedy o počtu všech zobrazení
mezi množinami. Ukážeme si dva důkazy: jeden přímý a jeden indukcí.

\begin{warning}
 Pro stručnost budu v celé kapitole slovem zobrazení myslet \textbf{zobrazení
 definované všude}. Diskrétní matematiku totiž pravdať úplně netrápí problémy
 definičních oborů, takže není žádná výhoda v tom uvažovat zobrazení, která
 nejsou definována pro všechny prvky svých domén.
\end{warning}

\begin{claim}[Počet všech zobrazení]
 \label{claim:pocet-zobrazeni}
 Mějme konečné množiny $A$ a $B$. Počet všech zobrazení $A \to B$ je $\# B^{\#
 A}$.
\end{claim}

\begin{enhproof}[tvrzení~\ref{claim:pocet-zobrazeni} přímo]
 Rozmysleme si nejprve, kdy se dvě zobrazení $f,g:A \to B$ liší. To je přeci
 tehdy, když existuje nějaký prvek $a \in A$ takový, že $f(a) \neq g(a)$.

 Jinak řečeno, každé zobrazení $A \to B$ popíšu tak, že určím obrazy všech prvků
 z $A$. Kdykoli mám dvě zobrazení, jejichž obraz byť i jednoho prvku z $A$ se
 neshoduje, pak jsou to různá zobrazení. Pro každý prvek z $A$ mám přesně $\# B$
 prvků, na které ho mohu zobrazit, tedy mám celkem přesně $\# B^{\# A}$ možností,
 jak zobrazit všechny prvky z $A$ na prvky z $B$.
\end{enhproof}

\begin{enhproof}[tvrzení~\ref{claim:pocet-zobrazeni} indukcí]
 Dokážeme předchozí tvrzení užitím indukce podle velikosti množiny $A$.

 Když je $A$ prázdná, čili $\# A = 0$, pak mám právě jedno zobrazení $A \to B$
 -- to, které nezobrazuje nic na nic. Čili mám vskutku $\# B^{\# A} = \# B^{0} =
 1$ různých zobrazení $A \to B$.

 Předpokládejme, že platí, že zobrazení z $A$ do $B$ je právě $\# B^{\# A}$ a
 přidejme do množiny $A$ jeden prvek, třeba $x$. Chceme ukázat, že všech
 zobrazení $A \cup \{x\} \to B$ je $\# B^{\# A + 1}$. Jeden způsob, jak to
 udělat, je podívat se kolika způsoby můžeme zobrazení $A \to B$
 \uv{dodefinovat} v~$x$.

 No, $x$ přeci mohu zobrazit na jakýkoliv prvek z $B$ a každá volba obrazu mi
 dává jiné zobrazení. Čili, z jednoho zobrazení $A \to B$ mi vznikne právě $\#
 B$ různých zobrazení $A \cup \{x\} \to B$. To ale znamená, že všech zobrazení
 $A \cup \{x\} \to B$ je $\# B$-krát víc než zobrazení $A \to B$. Tedy jich je
 podle předpokladu
 \[
  \# B^{\# A}\# B = \# B^{\#A + 1}.\qedhere
 \]
\end{enhproof}

O něco těžší je počítat zobrazení $A \to B$ omezených vlastností. Samozřejmě
bychom si mohli navymýšlet libovolné podmínky, které naše zobrazení musí
splňovat; třeba, že musí na každý prvek $B$ zobrazit právě prvočíselný počet
prvků z $A$. Zjistit počet všech takových zobrazení by jistě byla zajímavá
úloha, ale asi ne příliš užitečná. Pojďme se soustředit na více obvyklé typy
zobrazení.

\begin{claim}[Počet prostých zobrazení]
 \label{claim:pocet-prostych-zobrazeni}
 Počet všech \textbf{prostých} zobrazení $A \to B$ je
 \[
  \prod_{i=0}^{\# A - 1} \# B - i,
 \]
\end{claim}
\begin{proof}
 Předvedeme přímý důkaz. Důkaz indukcí si zkusíte za cvičení.

 Princip důkazu je podobný jako při počítání všech zobrazení $A \to B$. Zásadní
 rozdíl dlí v tom, že na každý prvek z $B$ lze zobrazit maximálně jeden prvek z
 $A$. Opět ale platí, že dva různé výběry obrazů prvků z $A$ nám dávají dvě
 různá zobrazení. Stačí tedy spočítat, kolika způsoby si můžeme zvolit, kam se
 prvky $A$ zobrazí.

 Nu, první prvek z $A$ můžeme zobrazit na $\# B$ různých prvků z $B$. Pro ten
 druhý ovšem máme už jen $\# B - 1$ možností, protože zobrazení musí být
 \textbf{prosté}, a tedy nelze druhý prvek zobrazit tam, kam ten první. Tenhle
 princip se opakuje. Pro třetí prvek už máme jen $\# B - 2$ možných obrazů atd.
 Celkem, pro $i$-tý prvek z $A$ máme jen $\# B - i + 1$ míst, kam ho zobrazit.

 Shrnuto, pro každý výběr obrazu prvního prvku máme už jen $\# B-1$ možných
 obrazů pro druhý prvek. Pro každý výběr obrazů prvních dvou prvků máme už jen
 $\# B - 2$ možných obrazů pro třetí prvek. Takhle pokračujeme, dokud nedojdeme
 až k $\#A$-tému prvku, pro který nám zbývá $\#B -\# A + 1$ nevyužitých prvků
 $B$. Sepsáno symbolicky, máme
 \[
  \# B (\# B - 1)(\# B - 2)\cdots (\# B - \# A + 1) = \prod_{i=0}^{\# A-1}
  \# B-i 
 \]
 možností, jak zvolit obrazy všech prvků z $A$ za daných podmínek. Tedy existuje
 právě tolik prostých zobrazení $A \to B$.
\end{proof}

Na konec sekce si ještě spočítáme nějaké podmnožiny. Už víme, že počet všech
podmnožin $A$ je $2^{\# A}$. Je to
\hyperref[claim:vlastnosti-velikosti-mnoziny]{Tvrzení~\ref*{claim:vlastnosti-velikosti-mnoziny}}.
Asi nejjednodušší další úlohou je počet všech podmnožin liché a sudé velikosti.
Čék by si řek', že jich je fifty-fifty a měl by recht. Ukážeme si důkaz.

\begin{claim}[Počet podmnožin liché velikosti]
\label{claim:pocet-podmnozin-liche-velikosti}
 Všech podmnožin liché velikosti konečné množiny $A$ je $2^{\#A - 1}$.
\end{claim}
\begin{proof}
 Půjdeme na to trochu jinak. Víme ze \hyperref[ssec:zobrazeni]{sekce o
 zobrazeních}, že mezi konečnými množinami existuje bijekce jenom tehdy, když
 jsou stejně velké. Vyjměme z $A$ nějaký fixní prvek, třeba $a \in A$. Množinu
 ${A \setminus \{a\}}$ označíme $\tilde{A}$. Protože $\tilde{A}$ má $\# A - 1$
 prvků, počet jejích podmnožin je $2^{\# A - 1}$. Najdeme bijekci mezi všemi
 podmnožinami množiny $\tilde{A}$ a lichými podmnožinami množiny $A$.

 Definujme zobrazení $f:2^{\tilde{A}} \to 2^{A}$ následujícím způsobem.
 \clr{Pozor! Všimněte si, že zobrazení $f$ je definované na podmnožinách. Tedy
 zobrazuje množiny na množiny.}

 Každá lichá podmnožina $A$ buď obsahuje $a$, nebo je neobsahuje. Liché
 podmnožiny $A$, které obsahují $a$, jsou sudými podmnožinami $\tilde{A}$
 (protože jsme $a$ odebrali), a ty, které $a$ neobsahují, zůstávají lichými i v
 $\tilde{A}$. Tedy, definujme
 \[
  f(X) \coloneqq
  \begin{cases}
   X, &\quad \text{pokud $\# X$ je liché},\\
   X \cup \{a\}, &\quad \text{pokud $\# X$ je sudé}.
  \end{cases}
 \]
 pro každou podmnožinu $X \subseteq \tilde{A}$. Tím jsme sestrojili bijekci mezi
 všemi podmnožinami $\tilde{A}$ a lichými podmnožinami $A$. Odtud plyne, že
 lichých podmnožin $A$ je $2^{\# A - 1} = 2^{\# A} / 2$.

 Pro sudé podmnožiny lze postupovat obdobně anebo si uvědomit, že všechny
 ostatní podmnožiny, které nejsou liché, musejí být sudé. Tedy jich je $2^{\# A}
 - 2^{\# A - 1} = 2^{\# A - 1}$.
\end{proof}

Předchozí důkaz ilustruje další běžný způsob, jak počítat prvky daných množin:
konkrétně tak, že najdeme bijekci mezi množinou, jejíž počet prvků chceme
spočítat, a množinou, jejíž počet prvků známe.

Dvě cvičení na závěr.

\begin{exercise}
 Dokažte
 \hyperref[claim:pocet-prostych-zobrazeni]{Tvrzení~\ref*{claim:pocet-prostych-zobrazeni}}
 indukcí podle velikosti množiny $A$.
\end{exercise}

\begin{exercise}
 Určete počet všech uspořádaných dvojic $(A,B)$, kde $A \subseteq B \subseteq
 \{1,\ldots,n\}$.

 \emph{Uspořádaná dvojice} znamená, že $(A,B) \neq (B,A)$, tedy záleží na
 pořadí, v~jakém podmnožiny zapíšu.
\end{exercise}
